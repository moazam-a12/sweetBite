<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cashier Dashboard | SweetBite</title>
    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/cashier.css">
</head>

<body>

    <nav class="cashier-navbar">
        <div class="navbar-inner">
            <a href="dashboard.html" class="navbar-brand">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                    style="width:24px;height:24px;fill:currentColor;">
                    <path
                        d="M12 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm5.5 7h-11c-.8 0-1.5.7-1.5 1.5v1c0 2.2 1.8 4 4 4h4c2.2 0 4-1.8 4-4v-1c0-.8-.7-1.5-1.5-1.5zM9 16c-.6 0-1 .4-1 1v5c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-5c0-.6-.4-1-1-1H9z" />
                </svg>
                SweetBite
            </a>
            <div class="navbar-links">
                <a href="dashboard.html">Dashboard</a>
                <a href="history.html">Order History</a>
                <a href="../../index.html">Logout</a>
            </div>
        </div>
    </nav>

    <section class="hero-banner">
        <h1>Cashier Dashboard</h1>
        <p>Process orders and manage customer checkouts</p>
        <button class="btn-apple" onclick="openCustomerModal()"
            style="margin-top:24px;font-size:1.1rem;padding:16px 32px;">
            New Checkout
        </button>
    </section>

    <div class="container-main">
        <h2 class="section-title">Quick Actions</h2>
        <div style="max-width:600px;margin:0 auto;text-align:center;">
            <p style="color:var(--apple-gray);margin-bottom:32px;">
                Click "New Checkout" above to start processing an order, or view order history to see past transactions.
            </p>
            <a href="history.html" class="btn-outline" style="display:inline-block;">View Order History</a>
        </div>
    </div>

    <!-- Customer Search/Add Modal -->
    <div id="customerModal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Select Customer</h2>
                <p class="modal-subtitle">Search for existing customer or add new</p>
            </div>

            <div class="modal-tabs">
                <button class="modal-tab active" onclick="switchTab('search')">Search Customer</button>
                <button class="modal-tab" onclick="switchTab('add')">Add New</button>
            </div>

            <div class="modal-body">
                <!-- Search Tab -->
                <div id="searchTab">
                    <div class="form-group">
                        <label class="form-label">Search by name or email</label>
                        <input type="text" id="customerSearch" class="form-control" placeholder="Type to search..."
                            oninput="searchCustomers()">
                    </div>
                    <div id="searchResults" class="search-results"></div>
                </div>

                <!-- ADD NEW CUSTOMER TAB -->
                <div id="addTab" style="display:none;">
                    <form id="addCustomerForm">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" id="customerName" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" id="customerEmail" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" id="customerPassword" class="form-control" required minlength="8">
                            <small style="color:var(--apple-gray);font-size:0.85rem;display:block;margin-top:4px;">
                                Must be at least 8 characters with uppercase, lowercase, number, and special character
                            </small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Confirm Password</label>
                            <input type="password" id="customerConfirmPassword" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" id="customerPhone" class="form-control"
                                placeholder="e.g., (555) 123-4567">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Address Line 1</label>
                            <input type="text" id="customerAddr1" class="form-control" placeholder="Street address">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Address Line 2</label>
                            <input type="text" id="customerAddr2" class="form-control"
                                placeholder="Apt, suite, etc. (optional)">
                        </div>

                        <div style="display:grid;grid-template-columns:2fr 1fr;gap:16px;">
                            <div class="form-group">
                                <label class="form-label">City</label>
                                <input type="text" id="customerCity" class="form-control">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Postal Code</label>
                                <input type="text" id="customerPostal" class="form-control">
                            </div>
                        </div>

                        <button type="submit" class="btn-apple" style="width:100%;margin-top:8px;">
                            Create Customer Account
                        </button>
                    </form>
                </div>

                <div class="modal-actions" style="margin-top:24px;">
                    <button class="btn-outline" onclick="closeCustomerModal()">Cancel</button>
                </div>
            </div>
        </div>

        <script src="../../js/api.js"></script>
        <script src="../../js/authGuard.js"></script>
        <script src="../../js/cashier.js"></script>
</body>

</html>